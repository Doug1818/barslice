<% provide(:title, 'Edit Bar Info') %>

<h2>Edit Your Info</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put, multipart: true } ) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>

  <div><%= f.label :name, "Bar name", class: "hform" %>
  <%= f.text_field :name %></div>  

  <div><%= f.label :email, class: "hform" %>
  <%= f.email_field :email %></div>

  <div><%= f.label :password, class: "hform" %> (leave blank if you don't want to change it)<br />
  <%= f.password_field :password, :autocomplete => "off" %></div>

  <div><%= f.label :password_confirmation, class: "hform" %>
  <%= f.password_field :password_confirmation %></div>

  <div><%= f.label :current_password, class: "hform" %> (we need your current password to confirm your changes)<br />
  <%= f.password_field :current_password %></div>

  <div><%= f.label :address, "Bar address", class: "hform" %>
  <%= f.text_field :address %></div>

  <div><%= f.label :neighborhood, class: "hform" %>
  <%= f.select :neighborhood, Bar::NEIGHBORHOODS %></div>

  <div><%= f.label :phone, "Phone number", class: "hform" %>
  <%= f.text_field :phone %></div>

  <div><%= f.label :website, "Website", class: "hform" %>
  <%= f.text_field :website %></div>

  <div class="hform">Hours of operation</div>
  <div>
    <%= f.fields_for :hrsranges do |builder| %>
      <%= render 'hrsrange_fields', f: builder %>
    <% end %>
    <%= link_to_add_fields "Add", f, :hrsranges %>
  </div><br /><br />

  <div><%= f.submit "Update", style: "margin-bottom: 20px;" %></div>
<% end %>

Unhappy? <%= link_to "Cancel my account", registration_path(resource_name), :confirm => "Are you sure?", :method => :delete %><br>
<%= link_to "Back", :back %>
